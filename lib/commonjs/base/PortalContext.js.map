{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","PortalContext","createContext","exports","usePortalContext","portal","useContext","Error","PortalProvider","_ref","children","portals","setPortals","useState","createElement","Provider","value","Outlet","Fragment","map","_ref2","View","pointerEvents","style","StyleSheet","absoluteFill","Portal","_ref3","_key","useMemo","Date","now","Math","random","useEffect","filter","p"],"sources":["PortalContext.tsx"],"sourcesContent":["import React, { createContext, Dispatch, SetStateAction, useContext, useEffect, useMemo, useState } from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nexport const PortalContext = createContext<{\n  portals: PortalProps[];\n  setPortals: Dispatch<SetStateAction<PortalProps[]>>;\n} | null>(null);\n\nexport const usePortalContext = () => {\n  const portal = useContext(PortalContext);\n  if (!portal) {\n    throw new Error('usePortalContext must be used within a PortalContext');\n  }\n  return portal;\n};\n\nexport const PortalProvider: React.FC = ({ children }) => {\n  const [portals, setPortals] = useState<PortalProps[]>([]);\n\n  return <PortalContext.Provider value={{ portals, setPortals }}>{children}</PortalContext.Provider>;\n};\n\nexport const Outlet: React.FC = () => {\n  const { portals } = usePortalContext();\n\n  return (\n    <React.Fragment>\n      {portals.map(({ key, children }) => (\n        <View key={key} pointerEvents=\"box-none\" style={StyleSheet.absoluteFill}>\n          {children}\n        </View>\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport interface PortalProps {\n  key?: React.Key;\n\n  children?: React.ReactNode;\n}\n\nexport const Portal: React.FC<PortalProps> = ({ key, children }) => {\n  const { setPortals } = usePortalContext();\n\n  const _key = useMemo(() => key ?? `${Date.now() + Math.random()}`, [key]);\n\n  useEffect(() => {\n    setPortals((portals) => [...portals, { key: _key, children }]);\n\n    return () => {\n      setPortals((portals) => portals.filter((p) => p.key !== _key));\n    };\n  }, [_key, setPortals, children]);\n\n  return null;\n};\n"],"mappings":"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"}