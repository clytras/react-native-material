{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_Text","_usePaletteColor","_useStyles","obj","__esModule","default","Avatar","_ref","label","image","icon","size","color","tintColor","initials","uppercase","autoColor","style","contentContainerStyle","imageContainerStyle","labelStyle","imageStyle","palette","usePaletteColor","getColor","styles","useStyles","container","width","height","backgroundColor","main","borderRadius","contentContainer","StyleSheet","absoluteFillObject","justifyContent","alignItems","fontSize","on","textTransform","getLabel","createElement","variant","getInitials","getImage","React","isValidElement","Image","source","getIcon","View","hash","i","length","charCodeAt","value","toString","substr","namesArray","trim","split","charAt","_default","exports"],"sources":["Avatar.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Image,\n  ImageSourcePropType,\n  ImageStyle,\n  StyleProp,\n  StyleSheet,\n  TextStyle,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport Text from './Text';\nimport { Color, usePaletteColor } from './hooks/use-palette-color';\nimport { useStyles } from './hooks/use-styles';\n\nexport interface AvatarProps {\n  label?: string | React.ReactElement | ((props: { color: string }) => React.ReactElement | null) | null;\n\n  image?: ImageSourcePropType | React.ReactElement | ((props: { size: number }) => React.ReactElement | null) | null;\n\n  icon?: React.ReactElement | ((props: { color: string; size: number }) => React.ReactElement | null) | null;\n\n  size?: number;\n\n  color?: Color;\n\n  tintColor?: Color;\n\n  initials?: boolean;\n\n  uppercase?: boolean;\n\n  autoColor?: boolean;\n\n  style?: StyleProp<ViewStyle>;\n\n  contentContainerStyle?: StyleProp<ViewStyle>;\n\n  imageContainerStyle?: StyleProp<ViewStyle>;\n\n  labelStyle?: StyleProp<TextStyle>;\n\n  imageStyle?: StyleProp<ImageStyle>;\n}\n\nconst Avatar: React.FC<AvatarProps> = ({\n  label,\n  image,\n  icon,\n  size = 56,\n  color = 'secondary',\n  tintColor,\n  initials = true,\n  uppercase = true,\n  autoColor = false,\n  style,\n  contentContainerStyle,\n  imageContainerStyle,\n  labelStyle,\n  imageStyle,\n}) => {\n  const palette = usePaletteColor(autoColor ? getColor(typeof label === 'string' ? label : '') : color, tintColor);\n\n  const styles = useStyles(\n    () => ({\n      container: {\n        width: size,\n        height: size,\n        backgroundColor: palette.main,\n        borderRadius: size / 2,\n      },\n      contentContainer: {\n        ...StyleSheet.absoluteFillObject,\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      label: {\n        fontSize: size / 2,\n        color: palette.on,\n        textTransform: uppercase ? 'uppercase' : 'none',\n      },\n      image: {\n        width: size,\n        height: size,\n        borderRadius: size / 2,\n      },\n    }),\n    [size, uppercase, palette]\n  );\n\n  const getLabel = () => {\n    switch (typeof label) {\n      case 'string':\n        return (\n          <Text variant=\"h6\" style={[styles.label, labelStyle]}>\n            {initials ? getInitials(label) : label}\n          </Text>\n        );\n      case 'function':\n        return label({ color: palette.on });\n      default:\n        return label;\n    }\n  };\n\n  const getImage = () => {\n    if (!image || React.isValidElement(image)) return image;\n    if (typeof image === 'function') return image({ size });\n    return <Image source={image} style={[styles.image, imageStyle]} />;\n  };\n\n  const getIcon = () => {\n    if (typeof icon === 'function') return icon({ color: palette.on, size: size / 2 });\n    return icon;\n  };\n\n  return (\n    <View style={[styles.container, style]}>\n      {(label || icon) && (\n        <View style={[styles.contentContainer, contentContainerStyle]}>{label ? getLabel() : icon && getIcon()}</View>\n      )}\n      {image && <View style={[StyleSheet.absoluteFillObject, imageContainerStyle]}>{getImage()}</View>}\n    </View>\n  );\n};\n\nfunction getColor(label: string) {\n  let hash = 0;\n  let i;\n  for (i = 0; i < label.length; i += 1) {\n    hash = label.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (i = 0; i < 3; i += 1) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  return color;\n}\n\nfunction getInitials(label: string) {\n  const namesArray = label.trim().split(' ');\n  if (namesArray.length === 1) return `${namesArray[0].charAt(0)}`;\n  else return `${namesArray[0].charAt(0)}${namesArray[namesArray.length - 1].charAt(0)}`;\n}\n\nexport default Avatar;\n"],"mappings":"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"}