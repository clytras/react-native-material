{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_PortalContext","_Surface","_interopRequireDefault","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Dialog","_ref","visible","onDismiss","children","portalVisible","setPortalVisible","useState","animatedValue","useMemo","Animated","Value","useEffect","timing","toValue","duration","easing","Easing","out","cubic","useNativeDriver","Platform","OS","start","createElement","Portal","TouchableWithoutFeedback","onPress","View","style","StyleSheet","absoluteFill","styles","backdrop","opacity","container","pointerEvents","needsOffscreenAlphaCompositing","category","elevation","surface","create","backgroundColor","justifyContent","alignItems","width","marginHorizontal","_default","exports"],"sources":["Dialog.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { Animated, Easing, Platform, StyleSheet, TouchableWithoutFeedback } from 'react-native';\nimport { Portal } from './base/PortalContext';\nimport Surface from './Surface';\n\nexport interface DialogProps {\n  visible?: boolean;\n\n  onDismiss?: () => void;\n}\n\nconst Dialog: React.FC<DialogProps> = ({ visible = false, onDismiss, children }) => {\n  const [portalVisible, setPortalVisible] = useState(visible);\n\n  const animatedValue = useMemo(() => new Animated.Value(visible ? 1 : 0), []);\n\n  useEffect(() => {\n    if (visible) setPortalVisible(true);\n\n    Animated.timing(animatedValue, {\n      toValue: visible ? 1 : 0,\n      duration: 225,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: Platform.OS !== 'android',\n    }).start(() => {\n      if (!visible) setPortalVisible(false);\n    });\n  }, [visible]);\n\n  if (!portalVisible) return null;\n\n  return (\n    <Portal>\n      <TouchableWithoutFeedback onPress={onDismiss}>\n        <Animated.View style={[StyleSheet.absoluteFill, styles.backdrop, { opacity: animatedValue }]} />\n      </TouchableWithoutFeedback>\n      <Animated.View\n        style={[StyleSheet.absoluteFill, styles.container, { opacity: animatedValue }]}\n        pointerEvents=\"box-none\"\n        needsOffscreenAlphaCompositing={Platform.OS === 'android'}\n      >\n        <Surface category=\"medium\" elevation={24} style={[styles.surface]}>\n          {children}\n        </Surface>\n      </Animated.View>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  backdrop: {\n    backgroundColor: 'rgba(0,0,0,.5)',\n  },\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  surface: {\n    width: 280,\n    marginHorizontal: 40,\n  },\n});\n\nexport default Dialog;\n"],"mappings":"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"}