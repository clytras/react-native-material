{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_Text","_interopRequireDefault","_usePaletteColor","_useStyles","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Badge","_ref","label","showZero","max","visible","color","tintColor","style","labelStyle","children","palette","usePaletteColor","styles","useStyles","container","minWidth","height","justifyContent","alignItems","paddingHorizontal","backgroundColor","main","borderRadius","isVisible","useMemo","animated","useRef","Animated","Value","current","useEffect","timing","toValue","duration","useNativeDriver","start","getLabel","createElement","variant","on","View","transform","scale","_default","exports"],"sources":["Badge.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react';\nimport { Animated, StyleProp, TextStyle, ViewProps } from 'react-native';\nimport Text from './Text';\nimport { Color, usePaletteColor } from './hooks/use-palette-color';\nimport { useStyles } from './hooks/use-styles';\n\nexport interface BadgeProps {\n  label?: number | string | React.ReactElement | ((props: { color: string }) => React.ReactElement | null) | null;\n\n  showZero?: boolean;\n\n  max?: number;\n\n  visible?: boolean;\n\n  color?: Color;\n\n  tintColor?: Color;\n\n  style?: Animated.AnimatedProps<ViewProps>['style'];\n\n  labelStyle?: StyleProp<TextStyle>;\n}\n\nconst Badge: React.FC<BadgeProps> = ({\n  label,\n  showZero = false,\n  max = 99,\n  visible = true,\n  color = 'secondary',\n  tintColor,\n  style,\n  labelStyle,\n  children,\n}) => {\n  const palette = usePaletteColor(color, tintColor);\n\n  const styles = useStyles(\n    () => ({\n      container: {\n        minWidth: 20,\n        height: 20,\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingHorizontal: 6,\n        backgroundColor: palette.main,\n        borderRadius: 10,\n      },\n    }),\n    [palette]\n  );\n\n  const isVisible = useMemo(() => (label === 0 ? visible && showZero : visible), [label, showZero, visible]);\n\n  const animated = useRef(new Animated.Value(isVisible ? 1 : 0)).current;\n\n  useEffect(() => {\n    Animated.timing(animated, {\n      toValue: isVisible ? 1 : 0,\n      duration: 200,\n      useNativeDriver: true,\n    }).start();\n  }, [isVisible]);\n\n  const getLabel = () => {\n    switch (typeof label) {\n      case 'number':\n      case 'string':\n        return (\n          <Text variant=\"body2\" style={[{ color: palette.on }, labelStyle]}>\n            {typeof label === 'number' && label > max ? `${max}+` : label}\n          </Text>\n        );\n      case 'function':\n        return label({ color: palette.on });\n      default:\n        return label;\n    }\n  };\n\n  return (\n    <Animated.View style={[styles.container, { transform: [{ scale: animated }] }, style]}>\n      {getLabel()}\n      {children}\n    </Animated.View>\n  );\n};\n\nexport default Badge;\n"],"mappings":"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"}