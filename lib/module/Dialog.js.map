{"version":3,"names":["React","useEffect","useMemo","useState","Animated","Easing","Platform","StyleSheet","TouchableWithoutFeedback","Portal","Surface","Dialog","_ref","visible","onDismiss","surfaceStyles","children","portalVisible","setPortalVisible","animatedValue","Value","timing","toValue","duration","easing","out","cubic","useNativeDriver","start","createElement","onPress","View","style","absoluteFill","styles","backdrop","opacity","container","pointerEvents","needsOffscreenAlphaCompositing","OS","category","elevation","surface","create","backgroundColor","justifyContent","alignItems","width","marginHorizontal"],"sources":["Dialog.tsx"],"sourcesContent":["import React, {ReactNode, useEffect, useMemo, useState} from 'react';\nimport { Animated, Easing, Platform, StyleSheet, TouchableWithoutFeedback } from 'react-native';\nimport { Portal } from './base/PortalContext';\nimport Surface, {SurfaceProps} from './Surface';\n\nexport interface DialogProps {\n  visible?: boolean;\n\n  onDismiss?: () => void;\n\n  surfaceStyles?: SurfaceProps;\n\n  children: ReactNode;\n}\n\nconst Dialog: React.FC<DialogProps> = ({ visible = false, onDismiss, surfaceStyles, children }) => {\n  const [portalVisible, setPortalVisible] = useState(visible);\n\n  const animatedValue = useMemo(() => new Animated.Value(visible ? 1 : 0), []);\n\n  useEffect(() => {\n    if (visible) setPortalVisible(true);\n\n    Animated.timing(animatedValue, {\n      toValue: visible ? 1 : 0,\n      duration: 225,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: false,\n    }).start(() => {\n      if (!visible) setPortalVisible(false);\n    });\n  }, [visible]);\n\n  if (!portalVisible) return null;\n\n  return (\n    <Portal>\n      <TouchableWithoutFeedback onPress={onDismiss}>\n        <Animated.View style={[StyleSheet.absoluteFill, styles.backdrop, { opacity: animatedValue }]} />\n      </TouchableWithoutFeedback>\n      <Animated.View\n        style={[StyleSheet.absoluteFill, styles.container, { opacity: animatedValue }]}\n        pointerEvents=\"box-none\"\n        needsOffscreenAlphaCompositing={Platform.OS === 'android'}\n      >\n        <Surface category=\"medium\" elevation={24} style={[styles.surface, surfaceStyles]}>\n          {children}\n        </Surface>\n      </Animated.View>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  backdrop: {\n    backgroundColor: 'rgba(0,0,0,.5)',\n  },\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  surface: {\n    width: 280,\n    marginHorizontal: 40,\n  },\n});\n\nexport default Dialog;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAcC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAO,OAAO;AACpE,SAASC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,wBAAwB,QAAQ,cAAc;AAC/F,SAASC,MAAM,QAAQ,sBAAsB;AAC7C,OAAOC,OAAO,MAAsB,WAAW;AAY/C,MAAMC,MAA6B,GAAGC,IAAA,IAA6D;EAAA,IAA5D;IAAEC,OAAO,GAAG,KAAK;IAAEC,SAAS;IAAEC,aAAa;IAAEC;EAAS,CAAC,GAAAJ,IAAA;EAC5F,MAAM,CAACK,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAACU,OAAO,CAAC;EAE3D,MAAMM,aAAa,GAAGjB,OAAO,CAAC,MAAM,IAAIE,QAAQ,CAACgB,KAAK,CAACP,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;EAE5EZ,SAAS,CAAC,MAAM;IACd,IAAIY,OAAO,EAAEK,gBAAgB,CAAC,IAAI,CAAC;IAEnCd,QAAQ,CAACiB,MAAM,CAACF,aAAa,EAAE;MAC7BG,OAAO,EAAET,OAAO,GAAG,CAAC,GAAG,CAAC;MACxBU,QAAQ,EAAE,GAAG;MACbC,MAAM,EAAEnB,MAAM,CAACoB,GAAG,CAACpB,MAAM,CAACqB,KAAK,CAAC;MAChCC,eAAe,EAAE;IACnB,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;MACb,IAAI,CAACf,OAAO,EAAEK,gBAAgB,CAAC,KAAK,CAAC;IACvC,CAAC,CAAC;EACJ,CAAC,EAAE,CAACL,OAAO,CAAC,CAAC;EAEb,IAAI,CAACI,aAAa,EAAE,OAAO,IAAI;EAE/B,oBACEjB,KAAA,CAAA6B,aAAA,CAACpB,MAAM,qBACLT,KAAA,CAAA6B,aAAA,CAACrB,wBAAwB;IAACsB,OAAO,EAAEhB;EAAU,gBAC3Cd,KAAA,CAAA6B,aAAA,CAACzB,QAAQ,CAAC2B,IAAI;IAACC,KAAK,EAAE,CAACzB,UAAU,CAAC0B,YAAY,EAAEC,MAAM,CAACC,QAAQ,EAAE;MAAEC,OAAO,EAAEjB;IAAc,CAAC;EAAE,CAAE,CACvE,CAAC,eAC3BnB,KAAA,CAAA6B,aAAA,CAACzB,QAAQ,CAAC2B,IAAI;IACZC,KAAK,EAAE,CAACzB,UAAU,CAAC0B,YAAY,EAAEC,MAAM,CAACG,SAAS,EAAE;MAAED,OAAO,EAAEjB;IAAc,CAAC,CAAE;IAC/EmB,aAAa,EAAC,UAAU;IACxBC,8BAA8B,EAAEjC,QAAQ,CAACkC,EAAE,KAAK;EAAU,gBAE1DxC,KAAA,CAAA6B,aAAA,CAACnB,OAAO;IAAC+B,QAAQ,EAAC,QAAQ;IAACC,SAAS,EAAE,EAAG;IAACV,KAAK,EAAE,CAACE,MAAM,CAACS,OAAO,EAAE5B,aAAa;EAAE,GAC9EC,QACM,CACI,CACT,CAAC;AAEb,CAAC;AAED,MAAMkB,MAAM,GAAG3B,UAAU,CAACqC,MAAM,CAAC;EAC/BT,QAAQ,EAAE;IACRU,eAAe,EAAE;EACnB,CAAC;EACDR,SAAS,EAAE;IACTS,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EACd,CAAC;EACDJ,OAAO,EAAE;IACPK,KAAK,EAAE,GAAG;IACVC,gBAAgB,EAAE;EACpB;AACF,CAAC,CAAC;AAEF,eAAetC,MAAM"}