{"version":3,"names":["React","useEffect","useMemo","useState","Animated","Easing","Platform","StyleSheet","TouchableWithoutFeedback","Portal","Surface","Dialog","_ref","visible","onDismiss","children","portalVisible","setPortalVisible","animatedValue","Value","timing","toValue","duration","easing","out","cubic","useNativeDriver","OS","start","createElement","onPress","View","style","absoluteFill","styles","backdrop","opacity","container","pointerEvents","needsOffscreenAlphaCompositing","category","elevation","surface","create","backgroundColor","justifyContent","alignItems","width","marginHorizontal"],"sources":["Dialog.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { Animated, Easing, Platform, StyleSheet, TouchableWithoutFeedback } from 'react-native';\nimport { Portal } from './base/PortalContext';\nimport Surface from './Surface';\n\nexport interface DialogProps {\n  visible?: boolean;\n\n  onDismiss?: () => void;\n}\n\nconst Dialog: React.FC<DialogProps> = ({ visible = false, onDismiss, children }) => {\n  const [portalVisible, setPortalVisible] = useState(visible);\n\n  const animatedValue = useMemo(() => new Animated.Value(visible ? 1 : 0), []);\n\n  useEffect(() => {\n    if (visible) setPortalVisible(true);\n\n    Animated.timing(animatedValue, {\n      toValue: visible ? 1 : 0,\n      duration: 225,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: Platform.OS !== 'android',\n    }).start(() => {\n      if (!visible) setPortalVisible(false);\n    });\n  }, [visible]);\n\n  if (!portalVisible) return null;\n\n  return (\n    <Portal>\n      <TouchableWithoutFeedback onPress={onDismiss}>\n        <Animated.View style={[StyleSheet.absoluteFill, styles.backdrop, { opacity: animatedValue }]} />\n      </TouchableWithoutFeedback>\n      <Animated.View\n        style={[StyleSheet.absoluteFill, styles.container, { opacity: animatedValue }]}\n        pointerEvents=\"box-none\"\n        needsOffscreenAlphaCompositing={Platform.OS === 'android'}\n      >\n        <Surface category=\"medium\" elevation={24} style={[styles.surface]}>\n          {children}\n        </Surface>\n      </Animated.View>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  backdrop: {\n    backgroundColor: 'rgba(0,0,0,.5)',\n  },\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  surface: {\n    width: 280,\n    marginHorizontal: 40,\n  },\n});\n\nexport default Dialog;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,SAASC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,wBAAwB,QAAQ,cAAc;AAC/F,SAASC,MAAM,QAAQ,sBAAsB;AAC7C,OAAOC,OAAO,MAAM,WAAW;AAQ/B,MAAMC,MAA6B,GAAGC,IAAA,IAA8C;EAAA,IAA7C;IAAEC,OAAO,GAAG,KAAK;IAAEC,SAAS;IAAEC;EAAS,CAAC,GAAAH,IAAA;EAC7E,MAAM,CAACI,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAACU,OAAO,CAAC;EAE3D,MAAMK,aAAa,GAAGhB,OAAO,CAAC,MAAM,IAAIE,QAAQ,CAACe,KAAK,CAACN,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;EAE5EZ,SAAS,CAAC,MAAM;IACd,IAAIY,OAAO,EAAEI,gBAAgB,CAAC,IAAI,CAAC;IAEnCb,QAAQ,CAACgB,MAAM,CAACF,aAAa,EAAE;MAC7BG,OAAO,EAAER,OAAO,GAAG,CAAC,GAAG,CAAC;MACxBS,QAAQ,EAAE,GAAG;MACbC,MAAM,EAAElB,MAAM,CAACmB,GAAG,CAACnB,MAAM,CAACoB,KAAK,CAAC;MAChCC,eAAe,EAAEpB,QAAQ,CAACqB,EAAE,KAAK;IACnC,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;MACb,IAAI,CAACf,OAAO,EAAEI,gBAAgB,CAAC,KAAK,CAAC;IACvC,CAAC,CAAC;EACJ,CAAC,EAAE,CAACJ,OAAO,CAAC,CAAC;EAEb,IAAI,CAACG,aAAa,EAAE,OAAO,IAAI;EAE/B,oBACEhB,KAAA,CAAA6B,aAAA,CAACpB,MAAM,qBACLT,KAAA,CAAA6B,aAAA,CAACrB,wBAAwB;IAACsB,OAAO,EAAEhB;EAAU,gBAC3Cd,KAAA,CAAA6B,aAAA,CAACzB,QAAQ,CAAC2B,IAAI;IAACC,KAAK,EAAE,CAACzB,UAAU,CAAC0B,YAAY,EAAEC,MAAM,CAACC,QAAQ,EAAE;MAAEC,OAAO,EAAElB;IAAc,CAAC;EAAE,CAAE,CACvE,CAAC,eAC3BlB,KAAA,CAAA6B,aAAA,CAACzB,QAAQ,CAAC2B,IAAI;IACZC,KAAK,EAAE,CAACzB,UAAU,CAAC0B,YAAY,EAAEC,MAAM,CAACG,SAAS,EAAE;MAAED,OAAO,EAAElB;IAAc,CAAC,CAAE;IAC/EoB,aAAa,EAAC,UAAU;IACxBC,8BAA8B,EAAEjC,QAAQ,CAACqB,EAAE,KAAK;EAAU,gBAE1D3B,KAAA,CAAA6B,aAAA,CAACnB,OAAO;IAAC8B,QAAQ,EAAC,QAAQ;IAACC,SAAS,EAAE,EAAG;IAACT,KAAK,EAAE,CAACE,MAAM,CAACQ,OAAO;EAAE,GAC/D3B,QACM,CACI,CACT,CAAC;AAEb,CAAC;AAED,MAAMmB,MAAM,GAAG3B,UAAU,CAACoC,MAAM,CAAC;EAC/BR,QAAQ,EAAE;IACRS,eAAe,EAAE;EACnB,CAAC;EACDP,SAAS,EAAE;IACTQ,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EACd,CAAC;EACDJ,OAAO,EAAE;IACPK,KAAK,EAAE,GAAG;IACVC,gBAAgB,EAAE;EACpB;AACF,CAAC,CAAC;AAEF,eAAerC,MAAM"}