{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","Animated","StyleSheet","View","Surface","Pressable","Text","ActivityIndicator","usePaletteColor","useStyles","useAnimatedElevation","FAB","_ref","icon","label","variant","size","color","tintColor","loading","loadingIndicator","loadingIndicatorPosition","visible","style","pressableContainerStyle","contentContainerStyle","iconContainerStyle","labelContainerStyle","labelStyle","loadingOverlayContainerStyle","pressEffect","pressEffectColor","onPress","onPressIn","onPressOut","onLongPress","onBlur","onFocus","onMouseEnter","onMouseLeave","delayLongPress","disabled","hitSlop","pressRetentionOffset","android_disableSound","android_ripple","testOnly_pressed","rest","palette","hasIcon","styles","container","backgroundColor","main","borderRadius","pressableContainer","overflow","pressable","flexDirection","alignItems","paddingStart","paddingEnd","paddingVertical","iconContainer","justifyContent","width","height","labelContainer","marginStart","loadingOverlayContainer","absoluteFillObject","animated","Value","current","timing","toValue","duration","useNativeDriver","start","getLoadingIndicator","createElement","on","getIcon","getLabel","selectable","pressed","setPressed","handlePressIn","event","handlePressOut","animatedElevation","_extends","transform","scale"],"sources":["FAB.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Animated, GestureResponderEvent, StyleProp, StyleSheet, TextStyle, View, ViewStyle } from 'react-native';\nimport Surface, { SurfaceProps } from './Surface';\nimport Pressable, { PressableProps } from './Pressable';\nimport Text from './Text';\nimport ActivityIndicator from './ActivityIndicator';\nimport { Color, usePaletteColor } from './hooks/use-palette-color';\nimport { useStyles } from './hooks/use-styles';\nimport { useAnimatedElevation } from './hooks/use-animated-elevation';\n\nexport interface FABProps extends Omit<SurfaceProps, 'hitSlop'>, Omit<PressableProps, 'style' | 'children'> {\n  icon?: React.ReactElement | ((props: { color: string; size: number }) => React.ReactElement | null) | null;\n\n  label?: string | React.ReactElement | ((props: { color: string }) => React.ReactElement | null) | null;\n\n  variant?: 'standard' | 'extended';\n\n  size?: 'default' | 'mini';\n\n  color?: Color;\n\n  tintColor?: Color;\n\n  loading?: boolean;\n\n  loadingIndicator?: string | React.ReactElement | ((props: { color: string }) => React.ReactElement | null) | null;\n\n  loadingIndicatorPosition?: 'icon' | 'overlay';\n\n  visible?: boolean;\n\n  pressableContainerStyle?: StyleProp<ViewStyle>;\n\n  contentContainerStyle?: PressableProps['style'];\n\n  iconContainerStyle?: StyleProp<ViewStyle>;\n\n  labelContainerStyle?: StyleProp<ViewStyle>;\n\n  labelStyle?: StyleProp<TextStyle>;\n\n  loadingOverlayContainerStyle?: StyleProp<ViewStyle>;\n}\n\nconst FAB: React.FC<FABProps> = ({\n  icon,\n  label,\n  variant = 'standard',\n  size = 'default',\n  color = 'secondary',\n  tintColor,\n  loading = false,\n  loadingIndicator,\n  loadingIndicatorPosition = 'icon',\n  visible = true,\n  style,\n  pressableContainerStyle,\n  contentContainerStyle,\n  iconContainerStyle,\n  labelContainerStyle,\n  labelStyle,\n  loadingOverlayContainerStyle,\n\n  pressEffect,\n  pressEffectColor,\n  onPress,\n  onPressIn,\n  onPressOut,\n  onLongPress,\n  onBlur,\n  onFocus,\n  onMouseEnter,\n  onMouseLeave,\n  delayLongPress,\n  disabled,\n  hitSlop,\n  pressRetentionOffset,\n  android_disableSound,\n  android_ripple,\n  testOnly_pressed,\n  ...rest\n}) => {\n  const palette = usePaletteColor(color, tintColor);\n\n  const hasIcon = useMemo(\n    () => icon || (loading && loadingIndicatorPosition === 'icon'),\n    [icon, loading, loadingIndicatorPosition]\n  );\n\n  const styles = useStyles(\n    () => ({\n      container: {\n        backgroundColor: palette.main,\n        borderRadius: size === 'default' ? 28 : 20,\n      },\n      pressableContainer: {\n        borderRadius: size === 'default' ? 28 : 20,\n        overflow: 'hidden',\n      },\n      pressable: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingStart:\n          variant === 'extended'\n            ? hasIcon\n              ? size === 'default'\n                ? 12\n                : 6\n              : size === 'default'\n              ? 20\n              : 10\n            : size === 'default'\n            ? 16\n            : 8,\n        paddingEnd: variant === 'extended' ? (size === 'default' ? 20 : 10) : size === 'default' ? 16 : 8,\n        paddingVertical: size === 'default' ? 16 : 8,\n      },\n      iconContainer: {\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: 24,\n        height: 24,\n      },\n      labelContainer: {\n        marginStart: hasIcon ? (size === 'default' ? 12 : 6) : 0,\n      },\n      loadingOverlayContainer: {\n        ...StyleSheet.absoluteFillObject,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: palette.main,\n      },\n    }),\n    [variant, size, palette, hasIcon]\n  );\n\n  const animated = useRef(new Animated.Value(visible ? 1 : 0)).current;\n\n  useEffect(() => {\n    Animated.timing(animated, {\n      toValue: visible ? 1 : 0,\n      duration: 200,\n      useNativeDriver: false,\n    }).start();\n  }, [visible]);\n\n  const getLoadingIndicator = () => {\n    if (!loadingIndicator) return <ActivityIndicator color={palette.on} />;\n    switch (typeof loadingIndicator) {\n      case 'string':\n        return (\n          <Text variant=\"button\" style={{ color: palette.on }}>\n            {loadingIndicator}\n          </Text>\n        );\n      case 'function':\n        return loadingIndicator({ color: palette.on });\n      default:\n        return loadingIndicator;\n    }\n  };\n\n  const getIcon = () => {\n    if (loading && loadingIndicatorPosition === 'icon') return getLoadingIndicator();\n    return typeof icon === 'function' ? icon({ color: palette.on, size: 24 }) : icon;\n  };\n\n  const getLabel = () => {\n    switch (typeof label) {\n      case 'string':\n        return (\n          <Text variant=\"button\" selectable={false} style={[{ color: palette.on }, labelStyle]}>\n            {label}\n          </Text>\n        );\n      case 'function':\n        return label({ color: palette.on });\n      default:\n        return label;\n    }\n  };\n\n  const [pressed, setPressed] = useState(false);\n\n  const handlePressIn = useCallback(\n    (event: GestureResponderEvent) => {\n      onPressIn?.(event);\n      setPressed(true);\n    },\n    [onPressIn]\n  );\n\n  const handlePressOut = useCallback(\n    (event: GestureResponderEvent) => {\n      onPressOut?.(event);\n      setPressed(false);\n    },\n    [onPressOut]\n  );\n\n  const animatedElevation = useAnimatedElevation(pressed ? 12 : 6);\n\n  return (\n    <Surface style={[animatedElevation, styles.container, { transform: [{ scale: animated }] }, style]} {...rest}>\n      <View style={[styles.pressableContainer, pressableContainerStyle]}>\n        <Pressable\n          style={[styles.pressable, contentContainerStyle]}\n          pressEffect={pressEffect}\n          pressEffectColor={pressEffectColor ?? palette.on}\n          onPress={onPress}\n          onPressIn={handlePressIn}\n          onPressOut={handlePressOut}\n          onLongPress={onLongPress}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          onMouseEnter={onMouseEnter}\n          onMouseLeave={onMouseLeave}\n          delayLongPress={delayLongPress}\n          disabled={disabled}\n          hitSlop={hitSlop}\n          pressRetentionOffset={pressRetentionOffset}\n          android_disableSound={android_disableSound}\n          android_ripple={android_ripple}\n          testOnly_pressed={testOnly_pressed}\n        >\n          {hasIcon && <View style={[styles.iconContainer, iconContainerStyle]}>{getIcon()}</View>}\n          {variant === 'extended' && <View style={[styles.labelContainer, labelContainerStyle]}>{getLabel()}</View>}\n\n          {loading && loadingIndicatorPosition === 'overlay' && (\n            <View style={[styles.loadingOverlayContainer, loadingOverlayContainerStyle]}>{getLoadingIndicator()}</View>\n          )}\n        </Pressable>\n      </View>\n    </Surface>\n  );\n};\n\nexport default FAB;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAChF,SAASC,QAAQ,EAAoCC,UAAU,EAAaC,IAAI,QAAmB,cAAc;AACjH,OAAOC,OAAO,MAAwB,WAAW;AACjD,OAAOC,SAAS,MAA0B,aAAa;AACvD,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAAgBC,eAAe,QAAQ,2BAA2B;AAClE,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,oBAAoB,QAAQ,gCAAgC;AAoCrE,MAAMC,GAAuB,GAAGC,IAAA,IAqC1B;EAAA,IArC2B;IAC/BC,IAAI;IACJC,KAAK;IACLC,OAAO,GAAG,UAAU;IACpBC,IAAI,GAAG,SAAS;IAChBC,KAAK,GAAG,WAAW;IACnBC,SAAS;IACTC,OAAO,GAAG,KAAK;IACfC,gBAAgB;IAChBC,wBAAwB,GAAG,MAAM;IACjCC,OAAO,GAAG,IAAI;IACdC,KAAK;IACLC,uBAAuB;IACvBC,qBAAqB;IACrBC,kBAAkB;IAClBC,mBAAmB;IACnBC,UAAU;IACVC,4BAA4B;IAE5BC,WAAW;IACXC,gBAAgB;IAChBC,OAAO;IACPC,SAAS;IACTC,UAAU;IACVC,WAAW;IACXC,MAAM;IACNC,OAAO;IACPC,YAAY;IACZC,YAAY;IACZC,cAAc;IACdC,QAAQ;IACRC,OAAO;IACPC,oBAAoB;IACpBC,oBAAoB;IACpBC,cAAc;IACdC,gBAAgB;IAChB,GAAGC;EACL,CAAC,GAAAnC,IAAA;EACC,MAAMoC,OAAO,GAAGxC,eAAe,CAACS,KAAK,EAAEC,SAAS,CAAC;EAEjD,MAAM+B,OAAO,GAAGnD,OAAO,CACrB,MAAMe,IAAI,IAAKM,OAAO,IAAIE,wBAAwB,KAAK,MAAO,EAC9D,CAACR,IAAI,EAAEM,OAAO,EAAEE,wBAAwB,CAC1C,CAAC;EAED,MAAM6B,MAAM,GAAGzC,SAAS,CACtB,OAAO;IACL0C,SAAS,EAAE;MACTC,eAAe,EAAEJ,OAAO,CAACK,IAAI;MAC7BC,YAAY,EAAEtC,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG;IAC1C,CAAC;IACDuC,kBAAkB,EAAE;MAClBD,YAAY,EAAEtC,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG,EAAE;MAC1CwC,QAAQ,EAAE;IACZ,CAAC;IACDC,SAAS,EAAE;MACTC,aAAa,EAAE,KAAK;MACpBC,UAAU,EAAE,QAAQ;MACpBC,YAAY,EACV7C,OAAO,KAAK,UAAU,GAClBkC,OAAO,GACLjC,IAAI,KAAK,SAAS,GAChB,EAAE,GACF,CAAC,GACHA,IAAI,KAAK,SAAS,GAClB,EAAE,GACF,EAAE,GACJA,IAAI,KAAK,SAAS,GAClB,EAAE,GACF,CAAC;MACP6C,UAAU,EAAE9C,OAAO,KAAK,UAAU,GAAIC,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG,EAAE,GAAIA,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG,CAAC;MACjG8C,eAAe,EAAE9C,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG;IAC7C,CAAC;IACD+C,aAAa,EAAE;MACbC,cAAc,EAAE,QAAQ;MACxBL,UAAU,EAAE,QAAQ;MACpBM,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE;IACV,CAAC;IACDC,cAAc,EAAE;MACdC,WAAW,EAAEnB,OAAO,GAAIjC,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG,CAAC,GAAI;IACzD,CAAC;IACDqD,uBAAuB,EAAE;MACvB,GAAGnE,UAAU,CAACoE,kBAAkB;MAChCN,cAAc,EAAE,QAAQ;MACxBL,UAAU,EAAE,QAAQ;MACpBP,eAAe,EAAEJ,OAAO,CAACK;IAC3B;EACF,CAAC,CAAC,EACF,CAACtC,OAAO,EAAEC,IAAI,EAAEgC,OAAO,EAAEC,OAAO,CAClC,CAAC;EAED,MAAMsB,QAAQ,GAAGxE,MAAM,CAAC,IAAIE,QAAQ,CAACuE,KAAK,CAAClD,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAACmD,OAAO;EAEpE5E,SAAS,CAAC,MAAM;IACdI,QAAQ,CAACyE,MAAM,CAACH,QAAQ,EAAE;MACxBI,OAAO,EAAErD,OAAO,GAAG,CAAC,GAAG,CAAC;MACxBsD,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC;EACZ,CAAC,EAAE,CAACxD,OAAO,CAAC,CAAC;EAEb,MAAMyD,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAI,CAAC3D,gBAAgB,EAAE,oBAAOzB,KAAA,CAAAqF,aAAA,CAACzE,iBAAiB;MAACU,KAAK,EAAE+B,OAAO,CAACiC;IAAG,CAAE,CAAC;IACtE,QAAQ,OAAO7D,gBAAgB;MAC7B,KAAK,QAAQ;QACX,oBACEzB,KAAA,CAAAqF,aAAA,CAAC1E,IAAI;UAACS,OAAO,EAAC,QAAQ;UAACQ,KAAK,EAAE;YAAEN,KAAK,EAAE+B,OAAO,CAACiC;UAAG;QAAE,GACjD7D,gBACG,CAAC;MAEX,KAAK,UAAU;QACb,OAAOA,gBAAgB,CAAC;UAAEH,KAAK,EAAE+B,OAAO,CAACiC;QAAG,CAAC,CAAC;MAChD;QACE,OAAO7D,gBAAgB;IAC3B;EACF,CAAC;EAED,MAAM8D,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAI/D,OAAO,IAAIE,wBAAwB,KAAK,MAAM,EAAE,OAAO0D,mBAAmB,CAAC,CAAC;IAChF,OAAO,OAAOlE,IAAI,KAAK,UAAU,GAAGA,IAAI,CAAC;MAAEI,KAAK,EAAE+B,OAAO,CAACiC,EAAE;MAAEjE,IAAI,EAAE;IAAG,CAAC,CAAC,GAAGH,IAAI;EAClF,CAAC;EAED,MAAMsE,QAAQ,GAAGA,CAAA,KAAM;IACrB,QAAQ,OAAOrE,KAAK;MAClB,KAAK,QAAQ;QACX,oBACEnB,KAAA,CAAAqF,aAAA,CAAC1E,IAAI;UAACS,OAAO,EAAC,QAAQ;UAACqE,UAAU,EAAE,KAAM;UAAC7D,KAAK,EAAE,CAAC;YAAEN,KAAK,EAAE+B,OAAO,CAACiC;UAAG,CAAC,EAAErD,UAAU;QAAE,GAClFd,KACG,CAAC;MAEX,KAAK,UAAU;QACb,OAAOA,KAAK,CAAC;UAAEG,KAAK,EAAE+B,OAAO,CAACiC;QAAG,CAAC,CAAC;MACrC;QACE,OAAOnE,KAAK;IAChB;EACF,CAAC;EAED,MAAM,CAACuE,OAAO,EAAEC,UAAU,CAAC,GAAGtF,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMuF,aAAa,GAAG3F,WAAW,CAC9B4F,KAA4B,IAAK;IAChCvD,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAGuD,KAAK,CAAC;IAClBF,UAAU,CAAC,IAAI,CAAC;EAClB,CAAC,EACD,CAACrD,SAAS,CACZ,CAAC;EAED,MAAMwD,cAAc,GAAG7F,WAAW,CAC/B4F,KAA4B,IAAK;IAChCtD,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAGsD,KAAK,CAAC;IACnBF,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,EACD,CAACpD,UAAU,CACb,CAAC;EAED,MAAMwD,iBAAiB,GAAGhF,oBAAoB,CAAC2E,OAAO,GAAG,EAAE,GAAG,CAAC,CAAC;EAEhE,oBACE1F,KAAA,CAAAqF,aAAA,CAAC5E,OAAO,EAAAuF,QAAA;IAACpE,KAAK,EAAE,CAACmE,iBAAiB,EAAExC,MAAM,CAACC,SAAS,EAAE;MAAEyC,SAAS,EAAE,CAAC;QAAEC,KAAK,EAAEtB;MAAS,CAAC;IAAE,CAAC,EAAEhD,KAAK;EAAE,GAAKwB,IAAI,gBAC1GpD,KAAA,CAAAqF,aAAA,CAAC7E,IAAI;IAACoB,KAAK,EAAE,CAAC2B,MAAM,CAACK,kBAAkB,EAAE/B,uBAAuB;EAAE,gBAChE7B,KAAA,CAAAqF,aAAA,CAAC3E,SAAS;IACRkB,KAAK,EAAE,CAAC2B,MAAM,CAACO,SAAS,EAAEhC,qBAAqB,CAAE;IACjDK,WAAW,EAAEA,WAAY;IACzBC,gBAAgB,EAAEA,gBAAgB,IAAIiB,OAAO,CAACiC,EAAG;IACjDjD,OAAO,EAAEA,OAAQ;IACjBC,SAAS,EAAEsD,aAAc;IACzBrD,UAAU,EAAEuD,cAAe;IAC3BtD,WAAW,EAAEA,WAAY;IACzBC,MAAM,EAAEA,MAAO;IACfC,OAAO,EAAEA,OAAQ;IACjBC,YAAY,EAAEA,YAAa;IAC3BC,YAAY,EAAEA,YAAa;IAC3BC,cAAc,EAAEA,cAAe;IAC/BC,QAAQ,EAAEA,QAAS;IACnBC,OAAO,EAAEA,OAAQ;IACjBC,oBAAoB,EAAEA,oBAAqB;IAC3CC,oBAAoB,EAAEA,oBAAqB;IAC3CC,cAAc,EAAEA,cAAe;IAC/BC,gBAAgB,EAAEA;EAAiB,GAElCG,OAAO,iBAAItD,KAAA,CAAAqF,aAAA,CAAC7E,IAAI;IAACoB,KAAK,EAAE,CAAC2B,MAAM,CAACa,aAAa,EAAErC,kBAAkB;EAAE,GAAEwD,OAAO,CAAC,CAAQ,CAAC,EACtFnE,OAAO,KAAK,UAAU,iBAAIpB,KAAA,CAAAqF,aAAA,CAAC7E,IAAI;IAACoB,KAAK,EAAE,CAAC2B,MAAM,CAACiB,cAAc,EAAExC,mBAAmB;EAAE,GAAEwD,QAAQ,CAAC,CAAQ,CAAC,EAExGhE,OAAO,IAAIE,wBAAwB,KAAK,SAAS,iBAChD1B,KAAA,CAAAqF,aAAA,CAAC7E,IAAI;IAACoB,KAAK,EAAE,CAAC2B,MAAM,CAACmB,uBAAuB,EAAExC,4BAA4B;EAAE,GAAEkD,mBAAmB,CAAC,CAAQ,CAEnG,CACP,CACC,CAAC;AAEd,CAAC;AAED,eAAepE,GAAG"}