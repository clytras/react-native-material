{"version":3,"names":["React","Image","StyleSheet","View","Text","usePaletteColor","useStyles","Avatar","_ref","label","image","icon","size","color","tintColor","initials","uppercase","autoColor","style","contentContainerStyle","imageContainerStyle","labelStyle","imageStyle","palette","getColor","styles","container","width","height","backgroundColor","main","borderRadius","contentContainer","absoluteFillObject","justifyContent","alignItems","fontSize","on","textTransform","getLabel","createElement","variant","getInitials","getImage","isValidElement","source","getIcon","hash","i","length","charCodeAt","value","toString","substr","namesArray","trim","split","charAt"],"sources":["Avatar.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Image,\n  ImageSourcePropType,\n  ImageStyle,\n  StyleProp,\n  StyleSheet,\n  TextStyle,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport Text from './Text';\nimport { Color, usePaletteColor } from './hooks/use-palette-color';\nimport { useStyles } from './hooks/use-styles';\n\nexport interface AvatarProps {\n  label?: string | React.ReactElement | ((props: { color: string }) => React.ReactElement | null) | null;\n\n  image?: ImageSourcePropType | React.ReactElement | ((props: { size: number }) => React.ReactElement | null) | null;\n\n  icon?: React.ReactElement | ((props: { color: string; size: number }) => React.ReactElement | null) | null;\n\n  size?: number;\n\n  color?: Color;\n\n  tintColor?: Color;\n\n  initials?: boolean;\n\n  uppercase?: boolean;\n\n  autoColor?: boolean;\n\n  style?: StyleProp<ViewStyle>;\n\n  contentContainerStyle?: StyleProp<ViewStyle>;\n\n  imageContainerStyle?: StyleProp<ViewStyle>;\n\n  labelStyle?: StyleProp<TextStyle>;\n\n  imageStyle?: StyleProp<ImageStyle>;\n}\n\nconst Avatar: React.FC<AvatarProps> = ({\n  label,\n  image,\n  icon,\n  size = 56,\n  color = 'secondary',\n  tintColor,\n  initials = true,\n  uppercase = true,\n  autoColor = false,\n  style,\n  contentContainerStyle,\n  imageContainerStyle,\n  labelStyle,\n  imageStyle,\n}) => {\n  const palette = usePaletteColor(autoColor ? getColor(typeof label === 'string' ? label : '') : color, tintColor);\n\n  const styles = useStyles(\n    () => ({\n      container: {\n        width: size,\n        height: size,\n        backgroundColor: palette.main,\n        borderRadius: size / 2,\n      },\n      contentContainer: {\n        ...StyleSheet.absoluteFillObject,\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      label: {\n        fontSize: size / 2,\n        color: palette.on,\n        textTransform: uppercase ? 'uppercase' : 'none',\n      },\n      image: {\n        width: size,\n        height: size,\n        borderRadius: size / 2,\n      },\n    }),\n    [size, uppercase, palette]\n  );\n\n  const getLabel = () => {\n    switch (typeof label) {\n      case 'string':\n        return (\n          <Text variant=\"h6\" style={[styles.label, labelStyle]}>\n            {initials ? getInitials(label) : label}\n          </Text>\n        );\n      case 'function':\n        return label({ color: palette.on });\n      default:\n        return label;\n    }\n  };\n\n  const getImage = () => {\n    if (!image || React.isValidElement(image)) return image;\n    if (typeof image === 'function') return image({ size });\n    return <Image source={image} style={[styles.image, imageStyle]} />;\n  };\n\n  const getIcon = () => {\n    if (typeof icon === 'function') return icon({ color: palette.on, size: size / 2 });\n    return icon;\n  };\n\n  return (\n    <View style={[styles.container, style]}>\n      {(label || icon) && (\n        <View style={[styles.contentContainer, contentContainerStyle]}>{label ? getLabel() : icon && getIcon()}</View>\n      )}\n      {image && <View style={[StyleSheet.absoluteFillObject, imageContainerStyle]}>{getImage()}</View>}\n    </View>\n  );\n};\n\nfunction getColor(label: string) {\n  let hash = 0;\n  let i;\n  for (i = 0; i < label.length; i += 1) {\n    hash = label.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (i = 0; i < 3; i += 1) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  return color;\n}\n\nfunction getInitials(label: string) {\n  const namesArray = label.trim().split(' ');\n  if (namesArray.length === 1) return `${namesArray[0].charAt(0)}`;\n  else return `${namesArray[0].charAt(0)}${namesArray[namesArray.length - 1].charAt(0)}`;\n}\n\nexport default Avatar;\n"],"mappings":"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"}